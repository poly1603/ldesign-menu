/**
 * 菜单组件 CSS 变量
 * 参考 Ant Design 设计规范
 * 优化交互体验和视觉效果
 */

:root {
  /* ========== 颜色系统 - 浅色主题（默认） ========== */
  /* 基础颜色 - 参考 Ant Design */
  --l-menu-bg-color: transparent;
  --l-menu-text-color: var(--color-text-primary, rgba(0, 0, 0, 0.88));
  --l-menu-text-color-secondary: var(--color-text-secondary, rgba(0, 0, 0, 0.65));
  --l-menu-text-color-tertiary: var(--color-text-tertiary, rgba(0, 0, 0, 0.45));
  --l-menu-text-color-disabled: var(--color-text-disabled, rgba(0, 0, 0, 0.25));
  --l-menu-border-color: var(--color-border, rgba(5, 5, 5, 0.06));

  /* Hover 状态 - Ant Design 风格 */
  --l-menu-hover-bg-color: var(--color-bg-component-hover, rgba(0, 0, 0, 0.04));
  --l-menu-hover-text-color: var(--color-text-primary, rgba(0, 0, 0, 0.88));

  /* Active 状态 - 按下时的效果 */
  --l-menu-active-bg-color: var(--color-bg-component-active, rgba(0, 0, 0, 0.08));
  --l-menu-active-text-color: var(--color-primary-default, #1677ff);

  /* Selected 状态 - Ant Design 风格 */
  --l-menu-selected-bg-color: var(--color-primary-bg, #e6f4ff);
  --l-menu-selected-text-color: var(--color-primary-default, #1677ff);
  --l-menu-selected-indicator-color: var(--color-primary-default, #1677ff);

  /* Focus 状态 - 键盘导航焦点 */
  --l-menu-focus-outline-color: var(--color-primary-border, #91caff);
  --l-menu-focus-outline-width: 2px;
  --l-menu-focus-outline-offset: 1px;
  --l-menu-focus-shadow: 0 0 0 2px var(--color-primary-bg-hover, rgba(22, 119, 255, 0.1));

  /* 分组标题 */
  --l-menu-group-title-color: var(--color-text-tertiary, rgba(0, 0, 0, 0.45));

  /* ========== 尺寸系统 ========== */
  /* 菜单项高度 - 参考 Ant Design */
  --l-menu-item-height: 40px;
  --l-menu-item-height-compact: 32px;
  --l-menu-item-height-large: 48px;

  /* 内边距 */
  --l-menu-item-padding-x: 16px;
  --l-menu-item-padding-y: 5px;
  --l-menu-padding: 4px;

  /* 图标 */
  --l-menu-icon-size: 16px;
  --l-menu-icon-margin-right: 10px;

  /* 箭头 */
  --l-menu-arrow-size: 12px;

  /* 分组标题 */
  --l-menu-group-title-height: 36px;
  --l-menu-group-title-padding-x: 16px;
  --l-menu-group-title-font-size: 12px;

  /* 分割线 */
  --l-menu-divider-margin: 4px;
  --l-menu-divider-margin-x: 12px;

  /* 选中指示器 */
  --l-menu-indicator-width: 3px;
  --l-menu-indicator-height: 100%;

  /* 字体大小 */
  --l-menu-font-size: 14px;
  --l-menu-font-size-small: 12px;
  --l-menu-font-size-large: 16px;

  /* 行高 */
  --l-menu-line-height: 1.5714285714;

  /* ========== 圆角系统 ========== */
  --l-menu-border-radius: 8px;
  --l-menu-border-radius-small: 6px;
  --l-menu-popup-border-radius: 8px;

  /* ========== 动画系统 - 参考 Ant Design Motion ========== */
  /* 基础过渡 */
  --l-menu-transition-duration: 0.2s;
  --l-menu-transition-duration-fast: 0.1s;
  --l-menu-transition-duration-slow: 0.3s;

  /* Ant Design 动效曲线 */
  --l-menu-transition-timing: cubic-bezier(0.645, 0.045, 0.355, 1);
  --l-menu-transition-timing-ease-out: cubic-bezier(0.215, 0.61, 0.355, 1);
  --l-menu-transition-timing-ease-in-out: cubic-bezier(0.645, 0.045, 0.355, 1);
  --l-menu-transition-timing-spring: cubic-bezier(0.34, 1.56, 0.64, 1);

  /* 展开/收起动画 */
  --l-menu-expand-duration: 0.25s;
  --l-menu-collapse-duration: 0.2s;

  /* ========== 阴影系统 - Ant Design 风格 ========== */
  --l-menu-popup-shadow:
    0 6px 16px 0 rgba(0, 0, 0, 0.08),
    0 3px 6px -4px rgba(0, 0, 0, 0.12),
    0 9px 28px 8px rgba(0, 0, 0, 0.05);
  --l-menu-hover-shadow: none;

  /* ========== 弹出菜单 ========== */
  --l-menu-popup-bg: var(--color-bg-elevated, #ffffff);
  --l-menu-popup-border-color: transparent;
  --l-menu-popup-padding: 4px;
  --l-menu-popup-min-width: 160px;

  /* ========== Z-Index 层级 ========== */
  --l-menu-popup-z-index: 1050;
  --l-menu-tooltip-z-index: 1070;

  /* ========== 涟漪效果 ========== */
  --l-menu-ripple-color: var(--color-primary-bg-hover, rgba(22, 119, 255, 0.12));
  --l-menu-ripple-duration: 400ms;

  /* ========== 危险状态 ========== */
  --l-menu-danger-color: var(--color-error, #ff4d4f);
  --l-menu-danger-bg-color: var(--color-error-bg, #fff2f0);
}

/* ========== 浅色主题 ========== */
.l-menu--light {
  --l-menu-bg-color: transparent;
  --l-menu-text-color: rgba(0, 0, 0, 0.88);
  --l-menu-text-color-secondary: rgba(0, 0, 0, 0.65);
  --l-menu-text-color-disabled: rgba(0, 0, 0, 0.25);
  --l-menu-hover-bg-color: rgba(0, 0, 0, 0.04);
  --l-menu-hover-text-color: rgba(0, 0, 0, 0.88);
  --l-menu-active-bg-color: rgba(0, 0, 0, 0.08);
  --l-menu-active-text-color: #1677ff;
  --l-menu-selected-bg-color: #e6f4ff;
  --l-menu-selected-text-color: #1677ff;
  --l-menu-selected-indicator-color: #1677ff;
  --l-menu-ripple-color: rgba(22, 119, 255, 0.12);
}

/* ========== 深色主题 ========== */
/* 独立的暗色主题样式（用于侧边栏等场景） - 参考 Ant Design Dark */
.l-menu--dark {
  --l-menu-bg-color: #001529;
  --l-menu-text-color: rgba(255, 255, 255, 0.65);
  --l-menu-text-color-secondary: rgba(255, 255, 255, 0.45);
  --l-menu-text-color-disabled: rgba(255, 255, 255, 0.25);
  --l-menu-border-color: rgba(255, 255, 255, 0.08);
  /* Hover */
  --l-menu-hover-bg-color: transparent;
  --l-menu-hover-text-color: #ffffff;
  /* Active */
  --l-menu-active-bg-color: transparent;
  --l-menu-active-text-color: #ffffff;
  /* Selected - Ant Design 深色主题使用主色背景 */
  --l-menu-selected-bg-color: #1677ff;
  --l-menu-selected-text-color: #ffffff;
  --l-menu-selected-indicator-color: transparent;
  /* Group */
  --l-menu-group-title-color: rgba(255, 255, 255, 0.45);
  /* Popup */
  --l-menu-popup-bg: #001529;
  --l-menu-popup-border-color: rgba(255, 255, 255, 0.08);
  --l-menu-ripple-color: rgba(22, 119, 255, 0.25);
  --l-menu-popup-shadow:
    0 6px 16px 0 rgba(0, 0, 0, 0.32),
    0 3px 6px -4px rgba(0, 0, 0, 0.48),
    0 9px 28px 8px rgba(0, 0, 0, 0.2);
}

/* 深色主题下的子菜单激活状态 */
.l-menu--dark .l-submenu--active:not(.l-submenu--disabled)>.l-submenu__title {
  color: #ffffff;
}

/* 全局暗色模式适配 */
[data-theme-mode="dark"] .l-menu,
[data-theme-mode="dark"] .l-menu--light,
[data-theme="dark"] .l-menu,
[data-theme="dark"] .l-menu--light {
  --l-menu-text-color: rgba(255, 255, 255, 0.85);
  --l-menu-text-color-secondary: rgba(255, 255, 255, 0.65);
  --l-menu-hover-bg-color: rgba(255, 255, 255, 0.08);
  --l-menu-hover-text-color: rgba(255, 255, 255, 0.85);
  --l-menu-selected-bg-color: rgba(22, 119, 255, 0.15);
  --l-menu-selected-text-color: #1677ff;
  --l-menu-border-color: rgba(255, 255, 255, 0.08);
  --l-menu-popup-bg: #1f1f1f;
  --l-menu-popup-shadow:
    0 6px 16px 0 rgba(0, 0, 0, 0.32),
    0 3px 6px -4px rgba(0, 0, 0, 0.48),
    0 9px 28px 8px rgba(0, 0, 0, 0.2);
}